
### recode the dense file for visualization

```bash
cd ~/scratch/TCGA_CCLE_SKCM/SKCM_MSTC_CCLE_RUN/snakemake_ChIPseq_pipeline/12chromHMM/16CCLE_10MSTC_20_SKCM_CHROMHMM_OUTPUT/dense_bed

# rename the dense file
brename -p "-P[0-9]*_18_dense" -r ""
ls

M028.bed  M137.bed  M263.bed  M305.bed  M357.bed  M409.bed  M642.bed  M749.bed  M807.bed  M852.bed  recode_dense_seg_state_color.py
M035.bed  M233.bed  M275.bed  M306.bed  M399.bed  M527.bed  M721.bed  M762.bed  M822.bed  M857.bed  my_map.txt

cat my_map.txt
old_state       new_state       new_color
1       1       0,0,255
2       1       0,0,255
3       2       0,153,204
4       3       0,255,255
5       3       0,255,255
6       4       51,255,0
7       5       0,204,51
8       6       0,102,0
9       7       0,0,51
10      8       204,0,51
11      9       255,0,204
12      10      204,153,255
13      11      204,204,102
14      12      255,255,0
15      13      255,255,204
16      2       0,153,204
17      14      51,102,102
18      15      102,153,51

## recode

find *bed | parallel './recode_dense_seg_state_color.py --ifile {} --file_type dense --map_file my_map.txt --ofile {/.}_recode.bed'
```


### heatmap after feature selection on tumor data.
