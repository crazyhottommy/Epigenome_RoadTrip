

### Reduction of the data

1. According to https://www.nature.com/articles/nature14248/figures/4
State E015 is the quiesent state (low state) which do not have signal for any of the
histone marks ChIPed in the experiment. Those regions can be functional (just do not enrich
the histone marks we tested, but other histone marks could exist), but we can not get
information out of it. **If E015 is present in the same bin across all samples, those can be filtered
out.**

2.  If the same state is present in the same bin across all samples, those do not give information
to differentiate subgroups of samples. These regions can be filtered out.

3.  If the same conbination of states across samples is present across multiple bins, only one bin need to
be retained. (this may not be true in biology settings, different bin can be of different importance for the genome).

I will be doing 1 and 2.

The file size after tiling the segments.bed file is big (~400M for each), I will do `divide and conqure` in
a chromosome-wise manner.

Only test for `chr1`

```bash
cd /rsrch2/genomic_med/krai/epigenome_roadmap/concept_learning_chromHMM_segs

ls -sh *bed
407M E027_segments.bed  408M E056_segments.bed  409M E075_segments.bed  408M E092_segments.bed  409M E109_segments.bed
407M E028_segments.bed  408M E057_segments.bed  408M E077_segments.bed  408M E094_segments.bed  409M E110_segments.bed
408M E053_segments.bed  407M E058_segments.bed  408M E079_segments.bed  408M E101_segments.bed
408M E054_segments.bed  408M E059_segments.bed  408M E084_segments.bed  408M E102_segments.bed
407M E055_segments.bed  407M E061_segments.bed  407M E085_segments.bed  408M E106_segments.bed

## split bed file by chromosome
gawk '{prefix=gensub(/.bed/, "", "g", FILENAME); print $0 >> prefix"_"$1".bed"}' E027_segments.bed

```
